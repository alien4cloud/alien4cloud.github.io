
<script type="text/javascript">
(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
})(window,document,'script','//www.google-analytics.com/analytics.js','ga');

ga('create', 'UA-73216650-1', 'auto');
ga('set', {
  page: '/documentation/3.4.0/devops_guide/tosca_grammar/data_type.html',
  title: 'Data type'
});
ga('send', 'pageview');

</script>

<div class="container-fluid">
  <div class="row">
    
      <div class="col-sm-4 col-md-3">
        <div id="sidebar_menu" class="tree" role="complementary"></div>
      </div>
      <div id="content" class="col-sm-8 col-md-9">
    
        <div style="height: 50px;">
          <h1 class="pull-left" style="margin-top: 0px;">Data type</h1>
          <a class="btn btn-primary pull-right" href="http://prose.io/#alien4cloud/alien4cloud.github.io/edit/sources/documentation/3.4.0/devops_guide/tosca_grammar/data_type.md"><i class="fa fa-pencil-square-o"></i> Edit (pull request)</a>
        </div>
        <h2 id="keynames">Keynames</h2>

<table class="table table-striped">
  <thead>
    <tr>
      <th style="text-align: left">Keyname</th>
      <th style="text-align: left">Required</th>
      <th style="text-align: left">Type</th>
      <th style="text-align: left">Description</th>
      <th style="text-align: left">tosca_definitions_version</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td style="text-align: left">derived_from</td>
      <td style="text-align: left">no</td>
      <td style="text-align: left">string</td>
      <td style="text-align: left">An optional parent Data Type name the Data Type derives from.</td>
      <td style="text-align: left">alien_dsl_1_3_0<br /> alien_dsl_1_2_0<br /> tosca_simple_yaml_1_0</td>
    </tr>
    <tr>
      <td style="text-align: left">version <strong>(1)</strong></td>
      <td style="text-align: left">no</td>
      <td style="text-align: left">version</td>
      <td style="text-align: left">An optional version for the Entity Type definition.</td>
      <td style="text-align: left">N.A.</td>
    </tr>
    <tr>
      <td style="text-align: left">metadata <strong>(2)</strong></td>
      <td style="text-align: left">no</td>
      <td style="text-align: left">map of string</td>
      <td style="text-align: left">Defines a section used to declare additional metadata information.</td>
      <td style="text-align: left">alien_dsl_1_3_0<br /> tosca_simple_yaml_1_0</td>
    </tr>
    <tr>
      <td style="text-align: left">tags <strong>(2)</strong></td>
      <td style="text-align: left">no</td>
      <td style="text-align: left">map of string</td>
      <td style="text-align: left">Defines a section used to declare additional metadata information.</td>
      <td style="text-align: left">alien_dsl_1_3_0<br /> alien_dsl_1_2_0</td>
    </tr>
    <tr>
      <td style="text-align: left">description</td>
      <td style="text-align: left">no</td>
      <td style="text-align: left">string</td>
      <td style="text-align: left">An optional description for the Data Type.</td>
      <td style="text-align: left">alien_dsl_1_3_0<br /> alien_dsl_1_2_0<br /> tosca_simple_yaml_1_0</td>
    </tr>
    <tr>
      <td style="text-align: left">constraints <strong>(3)</strong></td>
      <td style="text-align: left">no</td>
      <td style="text-align: left">list of <a href="#/documentation/3.0.0/devops_guide/tosca_grammar/constraints.html">constraint clauses</a></td>
      <td style="text-align: left">The optional list of sequenced constraint clauses for the Data Type.</td>
      <td style="text-align: left">alien_dsl_1_3_0<br /> alien_dsl_1_2_0<br /> tosca_simple_yaml_1_0</td>
    </tr>
    <tr>
      <td style="text-align: left">properties <strong>(3)</strong></td>
      <td style="text-align: left">no</td>
      <td style="text-align: left">map of <a href="#/documentation/3.0.0/devops_guide/tosca_grammar/property_definition.html">property definitions</a></td>
      <td style="text-align: left">The optional list of property definitions that comprise the schema for a complex Data Type in TOSCA.</td>
      <td style="text-align: left">alien_dsl_1_3_0<br /> alien_dsl_1_2_0<br /> tosca_simple_yaml_1_0</td>
    </tr>
  </tbody>
</table>

<ul>
  <li><strong>(1)</strong> version at type level is defined in TOSCA but they are optional and there is no example on how it should be managed. We believe in alien4cloud that versions should be managed at the service template/archive level and dispatched to every elements defined in the service template/archive.</li>
  <li><strong>(2)</strong> metadata appeared in TOSCA while alien4cloud already had tags supported, support for metadata keyword has been added in 1.3.1 version. note that if you specify both metadata and tags one may silently override the other (this should be avoided).</li>
  <li><strong>(3)</strong> Constraints and properties are mutually exclusive. Constraints are used to extends primitive types by adding constraints to them while properties are used to defined complex types.</li>
</ul>

<h2 id="grammar">Grammar</h2>

<div class="highlight"><pre><code class="language-yaml" data-lang="yaml"><span class="l-Scalar-Plain">&lt;data_type_name&gt;</span><span class="p-Indicator">:</span>
  <span class="l-Scalar-Plain">derived_from</span><span class="p-Indicator">:</span> <span class="l-Scalar-Plain">&lt;existing_type_name&gt;</span>
  <span class="l-Scalar-Plain">version</span><span class="p-Indicator">:</span> <span class="l-Scalar-Plain">&lt;version_number&gt;</span>
  <span class="l-Scalar-Plain">metadata</span><span class="p-Indicator">:</span>
    <span class="l-Scalar-Plain">&lt;map of string&gt;</span>
  <span class="l-Scalar-Plain">description</span><span class="p-Indicator">:</span> <span class="l-Scalar-Plain">&lt;datatype_description&gt;</span>
  <span class="l-Scalar-Plain">constraints</span><span class="p-Indicator">:</span>
    <span class="p-Indicator">-</span> <span class="l-Scalar-Plain">&lt;type_constraints&gt;</span>
  <span class="l-Scalar-Plain">properties</span><span class="p-Indicator">:</span>
    <span class="l-Scalar-Plain">&lt;property_definitions&gt;</span></code></pre></div>

<h2 id="example">Example</h2>

<h3 id="define-a-new-complex-datatype">Define a new complex datatype</h3>

<div class="highlight"><pre><code class="language-yaml" data-lang="yaml"><span class="l-Scalar-Plain">mytypes.phonenumber</span><span class="p-Indicator">:</span>
  <span class="l-Scalar-Plain">description</span><span class="p-Indicator">:</span> <span class="l-Scalar-Plain">my phone number datatype</span>
  <span class="l-Scalar-Plain">properties</span><span class="p-Indicator">:</span>
    <span class="l-Scalar-Plain">countrycode</span><span class="p-Indicator">:</span>
      <span class="l-Scalar-Plain">type</span><span class="p-Indicator">:</span> <span class="l-Scalar-Plain">integer</span>
    <span class="l-Scalar-Plain">areacode</span><span class="p-Indicator">:</span>
      <span class="l-Scalar-Plain">type</span><span class="p-Indicator">:</span> <span class="l-Scalar-Plain">integer</span>
    <span class="l-Scalar-Plain">number</span><span class="p-Indicator">:</span>
      <span class="l-Scalar-Plain">type</span><span class="p-Indicator">:</span> <span class="l-Scalar-Plain">integer</span></code></pre></div>

<h3 id="define-a-new-datatype-that-derives-from-existing-type-and-extends-it">Define a new datatype that derives from existing type and extends it</h3>

<div class="highlight"><pre><code class="language-yaml" data-lang="yaml"><span class="l-Scalar-Plain">mytypes.phonenumber.extended</span><span class="p-Indicator">:</span>
  <span class="l-Scalar-Plain">derived_from</span><span class="p-Indicator">:</span> <span class="l-Scalar-Plain">mytypes.phonenumber</span>
  <span class="l-Scalar-Plain">description</span><span class="p-Indicator">:</span> <span class="l-Scalar-Plain">custom phone number type that extends the basic phonenumber type</span>
  <span class="l-Scalar-Plain">properties</span><span class="p-Indicator">:</span>
    <span class="l-Scalar-Plain">phone_description</span><span class="p-Indicator">:</span>
      <span class="l-Scalar-Plain">type</span><span class="p-Indicator">:</span> <span class="l-Scalar-Plain">string</span>
      <span class="l-Scalar-Plain">constraints</span><span class="p-Indicator">:</span>
        <span class="p-Indicator">-</span> <span class="l-Scalar-Plain">max_length</span><span class="p-Indicator">:</span> <span class="l-Scalar-Plain">128</span></code></pre></div>

<h3 id="extending-a-primitive-type-to-add-constraints">Extending a primitive type to add constraints</h3>

<div class="highlight"><pre><code class="language-yaml" data-lang="yaml"><span class="l-Scalar-Plain">mytypes.password</span><span class="p-Indicator">:</span>
  <span class="l-Scalar-Plain">derived_from</span><span class="p-Indicator">:</span> <span class="l-Scalar-Plain">string</span>
  <span class="l-Scalar-Plain">description</span><span class="p-Indicator">:</span> <span class="l-Scalar-Plain">a password with min length</span>
  <span class="l-Scalar-Plain">constraints</span><span class="p-Indicator">:</span>
    <span class="p-Indicator">-</span> <span class="l-Scalar-Plain">min_length</span><span class="p-Indicator">:</span> <span class="l-Scalar-Plain">8</span></code></pre></div>


        <a class="btn btn-primary pull-right" href="http://prose.io/#alien4cloud/alien4cloud.github.io/edit/sources/documentation/3.4.0/devops_guide/tosca_grammar/data_type.md"><i class="fa fa-pencil-square-o"></i> Edit (pull request)</a>
	  </div>
    </div>
  </div>
</div><!-- /container -->

<script>
var hash = location.hash.replace( /^#/, '' );
if(hash && hash!== null && hash.match(/html$/)) {
} else {
  var newLocation = location.protocol+"//"+location.host+"#"+location.pathname;
  location.replace(newLocation);
}
</script>
<script type="text/javascript" src="/js/post-layout.js"></script>
<script>
$(document).ready(function () {
  makeSideBar('DOCUMENTATION-3.4.0', 'documentation/3.4.0/devops_guide/tosca_grammar/data_type.md');
});
</script>

<script>
$("div[data-gist]").gist();
</script>
