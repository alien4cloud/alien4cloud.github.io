<div class="container">
  <div class="row">
    
      <div class="col-md-3">
        <div id="sidebar_menu" class="tree" role="complementary"></div>
      </div>
      <div id="content" class="col-md-9">
    
        <div style="height: 50px;">
          <h1 class="pull-left" style="margin-top: 0px;">Installing and configuring</h1>
          <a class="btn btn-primary pull-right" href="http://prose.io/#alien4cloud/alien4cloud.github.io/edit/sources/documentation/1.0.0/cloudify2_driver/install_config.markdown"><i class="fa fa-pencil-square-o"></i> Edit (pull request)</a>
        </div>
        <p>Find here how to install and configure the Cloudify 2 driver.</p>

<h2 id="download">Download</h2>
<p>First step of course is to download the plugin.</p>

<ul>
  <li><a href="https://fastconnect.org/maven/service/local/artifact/maven/redirect?r=opensource&amp;g=alien4cloud&amp;a=alien4cloud-cloudify2-provider&amp;v=1.0.0&amp;p=zip" class="btn btn-success download-button navbar-btn">1.0.0</a></li>
</ul>

<h2 id="install">Install</h2>
<p>The driver is packaged as an ALIEN plugin, install it in <code>admin &gt; plugins</code> of your running instance of ALIEN.</p>

<h2 id="configure">Configure</h2>
<p>You need to create a cloud and configure it.</p>

<h3 id="creating-the-cloud">Creating the cloud</h3>
<ol>
  <li>Login as an admin, and create a cloud: <code>admin &gt; clouds &gt; New Cloud</code>.</li>
  <li>As <code>PaaS provider</code> for this cloud, make sure to select <strong><em>Cloudify 2 PaaS Provider</em></strong> from the list. Validate</li>
</ol>

<h3 id="configuring-the-cloud">Configuring the cloud</h3>
<p>On the cloud list, select and click on the newly created cloud, then go to the <code>configuration</code> tab.</p>

<ol>
  <li><strong><u>Connection Configuration</u></strong>: Remember the REST API URL you were told to note when bootstrapping your cloud with Cloudify, here is the place you’ll need it. Fill in one or more “Cloudify URL”, and eventually provide a login (username / password) for the access.<br />
You can also define the timeout to try all provided URL before declaring the configuration as not functional.<br /><br />
<a href="../../images/cloudify2_driver/config_cloud_cloudifyConUrl.png" title="Connection configuration"><img src="../../images/cloudify2_driver/config_cloud_cloudifyConUrl.png" alt="Connection configuration" title="Connection configuration" /></a><br /><br /></li>
</ol>

<div class="note warning">
<p>When working with a manager bootstrapped in HA mode (two instances, thus two URL), you should know that when one instance is unavailable, the other one is accessible in <strong>read only</strong> mode.<br />
Then, you will not be able to undeploy installed applications or deploy another application, until both two managers are operational.</p>
</div>

<p>Switch back to the <code>Details</code> tab and enable the cloud by clicking on the <code>Enable cloud</code> button. Then you should go to <code>Image</code> tab to configure your cloud’s images.</p>

<ol>
  <li>
    <p><strong><u>Images Configuration</u></strong>: Here you have to create/configure your cloud’s images. Map your cloud’s created image to the correct identifier on the IaaS (openstack, amazon …)<br /><br />
<a href="../../images/cloudify2_driver/config_cloud_cloudifyImage.png" title="Images"><img src="../../images/cloudify2_driver/config_cloud_cloudifyImage.png" alt="Images configuration" title="Images" /></a><br />
You should now go to <code>Flavor</code> tab to configure your cloud’s flavors.</p>
  </li>
  <li>
    <p><strong><u>Flavors Configuration</u></strong>: Here you have to create/configure your cloud’s flavors. Map your cloud’s created flavor to the correct identifier on the IaaS (openstack, amazon …)<br /><br />
<a href="../../images/cloudify2_driver/config_cloud_cloudifyFlavor.png" title="Flavors"><img src="../../images/cloudify2_driver/config_cloud_cloudifyFlavor.png" alt="Flavors configuration" title="Flavors" /></a><br />
You should now go to <code>Templates</code> tab to see all your cloud’s compute templates.</p>
  </li>
  <li>
    <p><strong><u>Templates Configuration</u></strong>: Here you can review available templates and disable those that you do not want to use.<br /><br />
<a href="../../images/cloudify2_driver/config_cloud_cloudifyTemplate.png" title="Templates"><img src="../../images/cloudify2_driver/config_cloud_cloudifyTemplate.png" alt="Templates configuration" title="Templates" /></a><br />
You should now go to <code>Network</code> tab to configure your cloud’s networks.</p>
  </li>
  <li>
    <p><strong><u>Networks Configuration</u></strong>: Here you have to create/configure your cloud’s network templates. Map your cloud’s created network to the correct identifier of Cloudify 2 (which is defined in the cloudify 2 cloud’s configuration)<br /><br />
<a href="../../images/cloudify2_driver/config_cloud_cloudifyNetwork.png" title="Networks"><img src="../../images/cloudify2_driver/config_cloud_cloudifyNetwork.png" alt="Networks configuration" title="Networks" /></a><br />
You must enter the PaaS Resource Id for all created network template or it will not be usable.<br />
The notion of external network is not necessary for cloudify 2, your cloudify 2 should be configured to auto-associate floating IP, so please set it to false.<br />
You should now go to <code>Block Storages</code> tab to configure your cloud’s block storages.</p>
  </li>
  <li>
    <p><strong><u>Block Storages Configuration</u></strong>: Here you have to create/configure your cloud’s block storage templates. Map your cloud’s created block storage to the correct identifier of Cloudify 2 (which is defined in the cloudify 2 cloud’s configuration)<br /><br />
<a href="../../images/cloudify2_driver/config_cloud_cloudifyBlockStorage.png" title="Block Storages"><img src="../../images/cloudify2_driver/config_cloud_cloudifyBlockStorage.png" alt="Block Storages configuration" title="Block Storages" /></a><br />
You must enter the PaaS Resource Id for all created block storage template or it will not be usable.<br /></p>
  </li>
  <li>
    <p><strong><u>Availability zones Configuration</u></strong>: Here you have to create/configure your cloud’s availability zones. Map your cloud’s created zones to the correct identifier of Cloudify 2 (which is defined in the cloudify 2 cloud’s configuration)<br /><br />
<a href="../../images/cloudify2_driver/config_cloud_zones.png" title="Availability zones"><img src="../../images/cloudify2_driver/config_cloud_zones.png" alt="Availability zones configuration" title="Availability zones" /></a><br />
You must enter the PaaS Resource Id (the zone name in your IaaS) for all created zones or it will not be usable.<br />
<strong>NOTE</strong>: Make sure you have defined the related template for the couple template, (availability zone) in your cloudify 2. see <a href="#/documentation/1.0.0/cloudify2_driver/cloudify.html">customizing cloudify2</a></p>
  </li>
</ol>

<p><strong>Congratulation!!</strong> You’ve finished to configure your cloudify2-based cloud. You can now begin to deploy your application with this cloud.</p>


        <a class="btn btn-primary pull-right" href="http://prose.io/#alien4cloud/alien4cloud.github.io/edit/sources/documentation/1.0.0/cloudify2_driver/install_config.markdown"><i class="fa fa-pencil-square-o"></i> Edit (pull request)</a>
	  </div>
    </div>
  </div>
</div><!-- /container -->
<script>
var hash = location.hash.replace( /^#/, '' );
if(hash && hash!== null && hash.match(/html$/)) {
} else {
  var newLocation = location.protocol+"//"+location.host+"#"+location.pathname;
  location.replace(newLocation);
}
</script>
<script type="text/javascript" src="/js/post-layout.js"></script>
<script>
$(document).ready(function () {
  makeSideBar('DOCUMENTATION', 'cloudify_2_install');
});
</script>

<script>
$("div[data-gist]").gist();
</script>
